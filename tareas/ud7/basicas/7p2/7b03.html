<!DOCTYPE html>
<html lang="es-ES">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>7B03</title>
</head>

<body>
  <div>
    <h1>Actividad 7B03 - 7A03 usando Fetch API</h1>
    <h2>DWEC - IES Doñana - 2º DAW 21/22</h2>
    <h3>Eduardo Martínez Romero</h3>
    <hr>
  </div>
  <div>
    <p>Realiza la actividad 7A03, pero en este caso usando Fetch API.</p>
    <button id="mostrar">Mostrar datos</button>
    <hr>
  </div>
  <div id="resultado">

  </div>


  <!-- <script>
    document.getElementById('cambiaContenido').addEventListener('click', cambiaContenido);

    function cambiaContenido() {
      fetch('ficheros/holamundo.txt')
        .then((response) => {
          if(response.ok) {
            return response.text();
          } else {
            throw new Error(`Se ha producido un error con código ${response.status}`);
          }
        })
        .then((data) => {
          document.getElementById('texto').innerHTML = data;
        })
        .catch((err) => {
          console.error('Error:', err.message);
        });
    }
  </script> -->

  <script>
    document.querySelector('#mostrar').addEventListener('click', mostrar);

    function mostrar() {
      fetch('ficheros/datos.json')
        .then((response) => {
          if (response.ok) {
            return response.json();
          } else {
            throw new Error(`Se ha producido un error con código ${response.status}`);
          }
        })
        .then((data) => {
          document.querySelector('#resultado').innerHTML = data.nombre +
            ' nació en ' + data.nacimiento + ' en ' + data.pais + '.';
        })
        .catch((err) => {
          console.error('Error:', err.message);
        });
    }
  </script>

</body>

</html>
